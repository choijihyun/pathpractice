<!doctype html>
<html lang="kr">
<head>
	<title>timetable_page</title>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"> 
	<!-- Customize CSS -->
	<link rel="stylesheet" type="text/css" href="css/style_timetable_page.css">

	<!-- fontawesome 으로 icon 사용하기 -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</head>

<body class="text-center">

	<!-- Container -->
	<div class="container">
		<div class="row justify-content-md-center justify-content-xs-center justify-content-sm-center justify-content-lg-center">
			<div class="col-md-6 col-md-auto col-xs-6 col-xs-auto col-sm-6 col-sm-auto col-lg-6 col-lg-auto login-box ">
				<!-- header (상단바) class="app-header" -->
				<div id="header">
				</div>

				<!-- 상단바와 하단바를 제외한 부분 class="main-area" -->
				<div class="jumbotron p-md-0 m-0 main-area">
					<!-- + 버튼  -->
					<div class="row col-auto justify-content-end setting">
						<div class= "col-10 col-xs-10 col-sm-10 col-lg-10 col-md-10"></div>
						<button class="btn-lg btn-add p-0 mx-2 upperbarCollapse" type="button" data-toggle="collapse" data-target="#collapseAdd" aria-label="Left Align" aria-expanded="false" aria-controls="collapseAdd">
							<span class="fas fa-plus-square"></span>
						</button>
					</div>

					<!-- +버튼 클릭시 추가 창 띄움-->
					<div id="collapseAdd" class="collapse p-0 md-1 col-12 col-xs-12 col-sm-12 col-lg-12 col-md-12">
						<div id="topbar" class="card card-body lower-card">
							<div class="list-group">

								<button id="add-by-directly" class="btn p-1 btn-sm list-group-item" type="button" data-toggle="collapse" data-target="#collapseDirect" aria-expanded="false" aria-controls="collapseDirect">직접 추가하기</button>
								<button type="button" id="add-by-searching" class="p-1 btn-sm list-group-item">검색하기</button>
								<button type="button" id="btn-undo2" class="p-1 btn-sm list-group-item">취소하기</button>
							</div>

							<div class="collapse mt-1 form-add" id="collapseDirect">
								<div class="card card-body upper-card p-2">
									<form>
										<div class="form-group m-0">
											<label for="subjectName" class="col-12 label">과목명</label>
											<input type="text" class="form-control input"  id="subjectName">
										</div>
										<div class="form-group m-0">
											<label for="professorName" class="col-12 label" >교수명</label>
											<input type="text" class="form-control input" id="professorName">
										</div>
										<div class="form-group m-0">
											<label for="time" class="col-12 label">시간</label>
											<div id="time" class="col-12 form-row">
												<label class="mx-auto time-label">요일</label>
												<div class="mx-auto">
													<select id="day1" class="form-control-xs">
														<option value="">요일</option> 
														<option value="mon">mon</option> 
														<option value="tue">tue</option> 
														<option value="wen">wen</option> 
														<option value="thu">thu</option> 
														<option value="fri">fri</option> 
													</select>
													<select id="day2" class="form-control-xs">
														<option value="">요일</option>
														<option value="none">없음</option>  
														<option value="mon">mon</option> 
														<option value="tue">tue</option> 
														<option value="wen">wen</option> 
														<option value="thu">thu</option> 
														<option value="fri">fri</option> 
													</select>
												</div>
												<label class="mx-auto time-label">시작시간</label>
												<div class="mx-auto">
													<select id="sHour" class="form-control-xs">
														<option value="">시</option> 
														<option value="9">9</option> 
														<option value="10">10</option> 
														<option value="11">11</option> 
														<option value="12">12</option> 
														<option value="13">13</option> 
														<option value="14">14</option> 
														<option value="15">15</option> 
														<option value="16">16</option>
														<option value="17">17</option> 
														<option value="18">18</option>
													</select> 
													<select id="sMinute" class="form-control-xs">
														<option value="">분</option> 
														<option value="00">00</option> 
														<option value="30">30</option> 
													</select> 														
												</div>
												<label class="mx-auto time-label">종료시간</label>
												<div class="mx-auto">
													<select id="eHour" class="form-control-xs">
														<option value="">시</option> 
														<option value="9">9</option> 
														<option value="10">10</option> 
														<option value="11">11</option> 
														<option value="12">12</option> 
														<option value="13">13</option> 
														<option value="14">14</option> 
														<option value="15">15</option> 
														<option value="16">16</option>
														<option value="17">17</option> 
														<option value="18">18</option>
													</select> 
													<select id="eMinute" class="form-control-xs">
														<option value="">분</option> 
														<option value="00">00</option> 
														<option value="30">30</option> 
													</select> 									
												</div>
											</div>
										</div>
										<div class="form-group m-0">
											<label for="place" class="col-12 label" >장소</label>
											<input type="text" class="form-control input" id="place">
										</div>
									</form>
									<div class="form-row mx-auto btn-submit">
										<button type="button" id="btn-success" class="mx-auto col-5 btn btn-sm btn-addSub">추가</button>
										<button type="button" id="btn-undo1" class="mx-auto col-5 btn btn-sm btn-addSub">취소</button>
									</div>
								</div>
							</div>
						</div>
						<div class="overlay col-12"></div>
					</div>

					<div id="timetable">
					</div>

				</div>

				<!-- footer 하단바 class="app-footer" -->
				<div id="footer">
				</div>

			</div>
		</div>
	</div>
</body>
</html> 

<script src="js/common/header.js"></script>
<script src="js/common/timetable.js"></script>
<script src="js/common/footer.js"></script>

<!-- table click event -->
<script>
	var table = document.getElementById("table"),rIndex,cIndex;

	for(var i = 1 ; i < table.rows.length ; i++)
	{
		for(var j = 1 ; j<table.rows[i].cells.length ; j++){
			table.rows[i].cells[j].onclick = function()
			{
				rIndex = this.parentElement.rowIndex;
				cIndex = this.cellIndex;
				console.log("ROW:" +rIndex+ ", Cell:" +cIndex);
			}
		}
	}	
</script>

<!-- 취ㅗ하기 버튼 클릭 시 다시 창 닫기 -->
<script type="text/javascript">
	$('#btn-undo2').on('click', function () {
		$('.upperbarCollapse').trigger('click');
	});

	$('#btn-undo1').on('click', function () {
		$('#add-by-directly').trigger('click');
	});
</script>

<!-- dropdown 선택 값 가져오기 -->
<script type="text/javascript">
	$('#btn-success').on('click', function () {
		var shour = document.getElementById("sHour");
		var val_shour = shour.options[shour.selectedIndex].value;
		var sminute = document.getElementById("sMinute");
		var val_sminute = sminute.options[sminute.selectedIndex].value;

		var ehour = document.getElementById("eHour");
		var val_ehour = ehour.options[ehour.selectedIndex].value;
		var eminute = document.getElementById("eMinute");
		var val_eminute = eminute.options[eminute.selectedIndex].value;

		var day1 = document.getElementById("day1");
		var val_day1 = day1.options[day1.selectedIndex].value;
		var day2 = document.getElementById("day2");
		var val_day2 = day2.options[day2.selectedIndex].value;

		if(val_sminute == "30") {val_shour = (val_shour -8)*2;}
		else if(val_sminute  == "00") {val_shour = (val_shour -8)*2-1;}

		if(val_eminute == "30") {val_ehour = (val_ehour -8)*2;}
		else if(val_eminute== "00") {val_ehour = (val_ehour -8)*2-1;}

		//color random
		//var random
		for(i=val_shour ; i<=val_ehour ; i++){
		if( i ==1 )
			$('table tr:nth-child(1) td:nth-child(2)').css('background-color', 'red');
		if( i ==2 )
			$('table tr:nth-child(2) td:nth-child(2)').css('background-color', 'red');
		if( i ==3 )
			$('table tr:nth-child(3) td:nth-child(2)').css('background-color', 'red');
		if( i ==4 )
			$('table tr:nth-child(4) td:nth-child(2)').css('background-color', 'red');
		if( i ==5 )
			$('table tr:nth-child(5) td:nth-child(2)').css('background-color', 'red');
		if( i ==6 )
			$('table tr:nth-child(6) td:nth-child(2)').css('background-color', 'red');
		if( i ==7 )
			$('table tr:nth-child(7) td:nth-child(2)').css('background-color', 'red');
		if( i ==8 )
			$('table tr:nth-child(8) td:nth-child(2)').css('background-color', 'red');
		if( i ==9 )
			$('table tr:nth-child(9) td:nth-child(2)').css('background-color', 'red');
		if( i ==10 )
			$('table tr:nth-child(10) td:nth-child(2)').css('background-color', 'red');
		if( i ==11 )
			$('table tr:nth-child(11) td:nth-child(2)').css('background-color', 'red');
		if( i ==12 )
			$('table tr:nth-child(12) td:nth-child(2)').css('background-color', 'red');
		if( i ==13 )
			$('table tr:nth-child(13) td:nth-child(2)').css('background-color', 'red');
		if( i ==14 )
			$('table tr:nth-child(14) td:nth-child(2)').css('background-color', 'red');
		}

		$('#add-by-directly').trigger('click');
			
		});
	</script>